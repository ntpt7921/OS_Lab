# Advantages of Makefile

- Automate the bulld process (no more typing long command, which is error prone)
- Selective build based on if the file is actually changed or not
- Automatic dependency resolving power (any file depending on changed file will also get build again)
- Configurable (some basic form of argument can be pass within the terminal or inside the makefile, which modularized the build process)

# Example

Given a directory structure
```
hello
├── hello
├── hello.c
├── hello.h
├── hello.o
├── main.c
├── main.o
└── makefile
```

## Selective build with dependency

We have that the hello executable depends on:

- main.o (generated by main.c and hello.h)
- hello.o (generated by hello.c and hello.h)

Say, if the hello.h change, we will need to rebuild main.o, hello.o and hello.

The determination and execution of building command to incorporate the new change is done automatically.

## Configurable

### Change the compiler

We have the complier used named gcc.

But what if we want to compile using clang instead. This can be done by change a variable within the makefile (or pass a argument when invoking make).

### Change the build target

What if we want to build two target (debug and production)
- Debug will use a separete set of flag to accomodate debug during development
- Production will use flag to optimize for various aspect

We can easily achieve this by setting separate flag variable for each target. Then we set the two target within the make file

```
# example

debug: <dependency>
    <command>

production: <dependency>
    <different command>
```
